#include "Offset.hpp"

#include "Game.hpp"

#include <array>

namespace PS2::DBZInfiniteWorld
{
	static constexpr Offset
	offsetPal
	{
		.battleCameraPtr = 0x0049CA70,
		.battleCommonCamera = 0x0052F000,
		.battleIsPaused = 0x00537A0C,
		.battleIsPauseMenuEnabled = 0x00539550,
		.battlePadData = 0x005315E8,
		.battleTimescale = 0x00537A18,
		.FLIGHT_cameraPtr = 0x0049CE3C,
		.padData = 0x004ADEC0,
		.progression = 0x005C1554,
		.Fn_battleDrawDuelingInfo = 0x00242A70,
		.Fn_battleSetCameraPosition = 0x001FFD50,
		.Fn_battleSetQuaternion = 0x001277A0,
		.Fn_battleShouldDrawHud = 0x00243ED0,
		.Fn_battleUpdateCamera = 0x001FFF60,
		.Fn_battleUpdatePauseMenu = 0x0020B830,
		.Fn_drawAspectRatio = 0x0012C760,
		.Fn_drawAura = 0x002709B0,
		.Fn_drawGreenRectangle = 0x002B1AE0,
		.Fn_drawGreyLines = 0x00279E50,
		.Fn_drawModel = 0x002646B0,
		.Fn_drawSprites = 0x001B8210,
		.Fn_drawText = 0x002BD5B0,
		.Fn_drawTexturesOnShaders = 0x00263290,
		.Fn_drawWhiteScreen = 0x00244270,
		.Fn_FLIGHT_draw = 0x0033B580,
		.Fn_FLIGHT_nextStep = 0x00342170,
		.Fn_FLIGHT_PLAYER = 0x00340D70,
		.Fn_FLIGHT_UPDATE = 0x0033C660,
		.Fn_FLIGHT_updateCamera = 0x00339620,
		.Fn_FLIGHT_cameraTransition = 0x003424F0,
		.Fn_initMovies = 0x002C57B0,
		.Fn_initSelectStages = 0x002D8DA0,
		.Fn_initTitleScreen = 0x002DAC00,
		.Fn_mdDrawHud = 0x002F1470,
		.Fn_mdKrilin_PLY_POST_EXEC = 0x0035D8D0,
		.Fn_mdKrilin_PLY_PRE_EXEC = 0x0035DEC0,
		.Fn_mdTenshinhan_PLY_POST_EXEC = 0x0031DC30,
		.Fn_mdTenshinhan_PLY_PRE_EXEC = 0x0031DE20,
		.Fn_mdCutsceneNextStep = 0x002EE040,
		.Fn_MSN006_NPC_PRE = 0x003806D0,
		.Fn_MSN006_PLY_PRE = 0x00376390,
		.Fn_MSN006_Upd = 0x0037B850,
		.Fn_MSN007_Mai = 0x00295030,
		.Fn_MSN007_POST_EXE = 0x003096D0,
		.Fn_MSN007_PRE_EXE = 0x00309550,
		.Fn_MSN010_PLY_POST_EXE = 0x0032D820,
		.Fn_MSN010_PLY_PRE_EXE = 0x0032DBF0,
		.Fn_MSN012_Mai = 0x00315010,
		.Fn_MSN012_POST_EXE = 0x00311250,
		.Fn_MSN012_PRE_EXE = 0x003113D0,
		.Fn_MSN012_Upd = 0x00315540,
		.Fn_MSN013_NPC_PRE = 0x0035C7C0,
		.Fn_MSN013_PLY_PRE = 0x00350920,
		.Fn_MSN013_Upd = 0x003568B0,
		.Fn_MSN013_updateLongBars = 0x00355390,
		.Fn_MSN014_NPC_PRE = 0x00336440,
		.Fn_MSN014_PLY_PRE = 0x003387A0,
		.Fn_MSN014_updateBars = 0x00332270,
		.Fn_MSN019_PLY_POST_EXEC = 0x00308970,
		.Fn_MSN019_PLY_PRE_EXEC = 0x00308B40,
		.Fn_MSN019_UPDATE = 0x002EA1F0,
		.Fn_MSNF_FIX_DRAW = 0x0030F260,
		.Fn_MSNF_PLY_POST_EXEC = 0x002AA0A0,
		.Fn_MSNF_PLY_PRE_EXEC = 0x002AA7A0,
		.Fn_MSNF_updateCamera = 0x00297DE0,
		.Fn_padStatus = 0x0014BAA0,
		.Fn_setCutsceneCameraPosition = 0x00127280,
		.Fn_setProjectionMatrix = 0x0012A820,
		.Fn_setProjectionMatrixFov = 0x00126F50,
		.Fn_setTextures = 0x001327F0,
		.Fn_SHOOT_update = 0x00367C10,
		.Fn_unknown = 0x001413B0,
		.Fn_unknown2 = 0x00138900
	},
	offsetNtscU
	{
		.battleCameraPtr = 0x0049C270,
		.battleCommonCamera = 0x0052E800,
		.battleIsPaused = 0x0053720C,
		.battleIsPauseMenuEnabled = 0x00538D50,
		.battlePadData = 0x00530DE8,
		.battleTimescale = 0x00537218,
		.FLIGHT_cameraPtr = 0x0049C620,
		.padData = 0x004AD6C0,
		.progression = 0x005C0D54,
		.Fn_battleDrawDuelingInfo = 0x002428B0,
		.Fn_battleSetCameraPosition = 0x001FFD40,
		.Fn_battleSetQuaternion = 0x001277A0,
		.Fn_battleShouldDrawHud = 0x00243D10,
		.Fn_battleUpdateCamera = 0x001FFF50,
		.Fn_battleUpdatePauseMenu = 0x0020B800,
		.Fn_drawAspectRatio = 0x0012C760,
		.Fn_drawAura = 0x002707A0,
		.Fn_drawGreenRectangle = 0x002B15F0,
		.Fn_drawGreyLines = 0x00279C40,
		.Fn_drawModel = 0x002644A0,
		.Fn_drawSprites = 0x001B8210,
		.Fn_drawText = 0x002BD380,
		.Fn_drawTexturesOnShaders = 0x00263080,
		.Fn_drawWhiteScreen = 0x002440B0,
		.Fn_FLIGHT_draw = 0x0033B080,
		.Fn_FLIGHT_nextStep = 0x00341C70,
		.Fn_FLIGHT_PLAYER = 0x00340870,
		.Fn_FLIGHT_UPDATE = 0x0033C160,
		.Fn_FLIGHT_updateCamera = 0x00339120,
		.Fn_FLIGHT_cameraTransition = 0x00341FF0,
		.Fn_initMovies = 0x002C5580,
		.Fn_initSelectStages = 0x002D8C40,
		.Fn_initTitleScreen = 0x002DAAA0,
		.Fn_mdDrawHud = 0x002F1260,
		.Fn_mdKrilin_PLY_POST_EXEC = 0x0035DA10,
		.Fn_mdKrilin_PLY_PRE_EXEC = 0x0035E000,
		.Fn_mdTenshinhan_PLY_POST_EXEC = 0x0031D940,
		.Fn_mdTenshinhan_PLY_PRE_EXEC = 0x0031DB30,
		.Fn_mdCutsceneNextStep = 0x002EDE30,
		.Fn_MSN006_NPC_PRE = 0x003806A0,
		.Fn_MSN006_PLY_PRE = 0x003764C0,
		.Fn_MSN006_Upd = 0x0037B840,
		.Fn_MSN007_Mai = 0x00294DA0,
		.Fn_MSN007_POST_EXE = 0x003094B0,
		.Fn_MSN007_PRE_EXE = 0x00309330,
		.Fn_MSN010_PLY_POST_EXE = 0x0032D4F0,
		.Fn_MSN010_PLY_PRE_EXE = 0x0032D8C0,
		.Fn_MSN012_Mai = 0x00314D50,
		.Fn_MSN012_POST_EXE = 0x00310FE0,
		.Fn_MSN012_PRE_EXE = 0x00311160,
		.Fn_MSN012_Upd = 0x00315280,
		.Fn_MSN013_NPC_PRE = 0x0035C900,
		.Fn_MSN013_PLY_PRE = 0x00350420,
		.Fn_MSN013_Upd = 0x00356A90,
		.Fn_MSN013_updateLongBars = 0x003555C0,
		.Fn_MSN014_NPC_PRE = 0x00335F60,
		.Fn_MSN014_PLY_PRE = 0x003382C0,
		.Fn_MSN014_updateBars = 0x00331E70,
		.Fn_MSN019_PLY_POST_EXEC = 0x00308750,
		.Fn_MSN019_PLY_PRE_EXEC = 0x00308920,
		.Fn_MSN019_UPDATE = 0x002E9FE0,
		.Fn_MSNF_FIX_DRAW = 0x0030EFF0,
		.Fn_MSNF_PLY_POST_EXEC = 0x002A9C20,
		.Fn_MSNF_PLY_PRE_EXEC = 0x002AA2D0,
		.Fn_MSNF_updateCamera = 0x00297B50,
		.Fn_padStatus = 0x0014BAA0,
		.Fn_setCutsceneCameraPosition = 0x00127280,
		.Fn_setProjectionMatrix = 0x0012A820,
		.Fn_setProjectionMatrixFov = 0x00126F50,
		.Fn_setTextures = 0x001327F0,
		.Fn_SHOOT_update = 0x00367D50,
		.Fn_unknown = 0x001413B0,
		.Fn_unknown2 = 0x00138900
	},
	offsetNtscJ
	{
		.battleCameraPtr = 0x0049C9F0,
		.battleCommonCamera = 0x0052F000,
		.battleIsPaused = 0x00537A0C,
		.battleIsPauseMenuEnabled = 0x00539550,
		.battlePadData = 0x005315E8,
		.battleTimescale = 0x00537A18,
		.FLIGHT_cameraPtr = 0x0049CDAC,
		.padData = 0x004ADEC0,
		.progression = 0x005C1554,
		.Fn_battleDrawDuelingInfo = 0x00242A70,
		.Fn_battleSetCameraPosition = 0x001FFD50,
		.Fn_battleSetQuaternion = 0x001277A0,
		.Fn_battleShouldDrawHud = 0x00243ED0,
		.Fn_battleUpdateCamera = 0x001FFF60,
		.Fn_battleUpdatePauseMenu = 0x0020B830,
		.Fn_drawAspectRatio = 0x0012C760,
		.Fn_drawAura = 0x002709B0,
		.Fn_drawGreenRectangle = 0x002B1BF0,
		.Fn_drawGreyLines = 0x00279E50,
		.Fn_drawModel = 0x002646B0,
		.Fn_drawSprites = 0x001B8210,
		.Fn_drawText = 0x002BD760,
		.Fn_drawTexturesOnShaders = 0x00263290,
		.Fn_drawWhiteScreen = 0x00244270,
		.Fn_FLIGHT_draw = 0x0033BBA0,
		.Fn_FLIGHT_nextStep = 0x00342790,
		.Fn_FLIGHT_PLAYER = 0x00341390,
		.Fn_FLIGHT_UPDATE = 0x0033CC80,
		.Fn_FLIGHT_updateCamera = 0x00339C40,
		.Fn_FLIGHT_cameraTransition = 0x00342B10,
		.Fn_initMovies = 0x002C5B30,
		.Fn_initSelectStages = 0x002D93F0,
		.Fn_initTitleScreen = 0x002DB250,
		.Fn_mdDrawHud = 0x002F1AC0,
		.Fn_mdKrilin_PLY_POST_EXEC = 0x0035DEF0,
		.Fn_mdKrilin_PLY_PRE_EXEC = 0x0035E4E0,
		.Fn_mdTenshinhan_PLY_POST_EXEC = 0x0031E280,
		.Fn_mdTenshinhan_PLY_PRE_EXEC = 0x0031E470,
		.Fn_mdCutsceneNextStep = 0x002EE690,
		.Fn_MSN006_NPC_PRE = 0x00380CF0,
		.Fn_MSN006_PLY_PRE = 0x003769B0,
		.Fn_MSN006_Upd = 0x0037BE70,
		.Fn_MSN007_Mai = 0x00295030,
		.Fn_MSN007_POST_EXE = 0x00309D20,
		.Fn_MSN007_PRE_EXE = 0x00309BA0,
		.Fn_MSN010_PLY_POST_EXE = 0x0032DE70,
		.Fn_MSN010_PLY_PRE_EXE = 0x0032E240,
		.Fn_MSN012_Mai = 0x00315660,
		.Fn_MSN012_POST_EXE = 0x003118A0,
		.Fn_MSN012_PRE_EXE = 0x00311A20,
		.Fn_MSN012_Upd = 0x00315B90,
		.Fn_MSN013_NPC_PRE = 0x0035CDE0,
		.Fn_MSN013_PLY_PRE = 0x00350F40,
		.Fn_MSN013_Upd = 0x00356ED0,
		.Fn_MSN013_updateLongBars = 0x003559B0,
		.Fn_MSN014_NPC_PRE = 0x00336A90,
		.Fn_MSN014_PLY_PRE = 0x00338DF0,
		.Fn_MSN014_updateBars = 0x003328C0,
		.Fn_MSN019_PLY_POST_EXEC = 0x00308FC0,
		.Fn_MSN019_PLY_PRE_EXEC = 0x00309190,
		.Fn_MSN019_UPDATE = 0x002EA840,
		.Fn_MSNF_FIX_DRAW = 0x0030F8B0,
		.Fn_MSNF_PLY_POST_EXEC = 0x002AA1C0,
		.Fn_MSNF_PLY_PRE_EXEC = 0x002AA8C0,
		.Fn_MSNF_updateCamera = 0x00297DE0,
		.Fn_padStatus = 0x0014BAA0,
		.Fn_setCutsceneCameraPosition = 0x00127280,
		.Fn_setProjectionMatrix = 0x0012A820,
		.Fn_setProjectionMatrixFov = 0x00126F50,
		.Fn_setTextures = 0x001327F0,
		.Fn_SHOOT_update = 0x00368230,
		.Fn_unknown = 0x001413B0,
		.Fn_unknown2 = 0x00138900
	};

	const Offset& Offset::create(s32 version)
	{
		static constexpr std::array<const Offset*, Version::Count> offsets
		{
			&offsetPal,
			&offsetNtscU,
			&offsetNtscJ
		};

		return *offsets[version];
	}
}