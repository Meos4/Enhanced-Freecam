#include "Offset.hpp"

#include "Game.hpp"

#include <array>

namespace PS2::DBZBudokai3
{
	static constexpr Offset
	offsetPal
	{
		.battleCameraPtr = 0x00473EF0,
		.battleCommonCamera = 0x00499500,
		.battleIsPaused = 0x004A1C5C,
		.battleIsPauseMenuEnabled = 0x0058F210,
		.battleTimescale = 0x004A1C64,
		.capsules = 0x004E3319,
		.displayMode = 0x00474094,
		.displayMode2 = 0x004E3DF8,
		.duBackgroundPtr = 0x00474224,
		.duPosition = 0x005ADEA0,
		.globalFov = 0x003F3DAC,
		.progression = 0x004B8340,
		.Fn_battleDrawDuelingInfo = 0x0021D490,
		.Fn_battleSetCameraPosition = 0x001A80E0,
		.Fn_battleSetQuaternion = 0x0012E640,
		.Fn_battleShouldDrawHud = 0x0021E600,
		.Fn_battleUpdateCamera = 0x001A8300,
		.Fn_battleUpdatePauseMenu = 0x001ADEE0,
		.Fn_duACTDRAW = 0x00290AF0,
		.Fn_duBALL_DRAW = 0x00290DE0,
		.Fn_duDrawDragonUniverse = 0x00292F10,
		.Fn_duDrawMap = 0x002913F0,
		.Fn_duMAP = 0x0029C5B0,
		.Fn_duPOS = 0x0029C850,
		.Fn_duUpdateCamera = 0x00294190,
		.Fn_drawAura = 0x00204520,
		.Fn_drawGreyLines = 0x0020CD80,
		.Fn_drawModel = 0x001C9610,
		.Fn_drawWhiteScreen = 0x0021E8C0,
		.Fn_padStatus = 0x001A3EF0,
		.Fn_setTextures = 0x00138390,
		.Fn_unknown = 0x00145D70
	},
	offsetPalCollector
	{
		.battleCameraPtr = 0x0042D2E0,
		.battleCommonCamera = 0x004500A0,
		.battleIsPaused = 0x0045883C,
		.battleIsPauseMenuEnabled = 0x00546750,
		.battleTimescale = 0x00458844,
		.capsules = 0x0049A599,
		.displayMode = 0x0042D488,
		.displayMode2 = 0x0049B0B4,
		.duBackgroundPtr = 0x0042D5D4,
		.duPosition = 0x00563D60,
		.globalFov = 0x003ABCAC,
		.progression = 0x0046F5B0,
		.Fn_battleDrawDuelingInfo = 0x00220130,
		.Fn_battleSetCameraPosition = 0x001AA080,
		.Fn_battleSetQuaternion = 0x0012F120,
		.Fn_battleShouldDrawHud = 0x002214F0,
		.Fn_battleUpdateCamera = 0x001AA2A0,
		.Fn_battleUpdatePauseMenu = 0x001B0080,
		.Fn_duACTDRAW = 0x00299280,
		.Fn_duBALL_DRAW = 0x00299570,
		.Fn_duDrawDragonUniverse = 0x0029B6A0,
		.Fn_duDrawMap = 0x00299B80,
		.Fn_duMAP = 0x002A5050,
		.Fn_duPOS = 0x002A52F0,
		.Fn_duUpdateCamera = 0x0029CA00,
		.Fn_drawAura = 0x00207140,
		.Fn_drawGreyLines = 0x0020F9A0,
		.Fn_drawModel = 0x001CBC90,
		.Fn_drawWhiteScreen = 0x002218D0,
		.Fn_padStatus = 0x003262F0,
		.Fn_setTextures = 0x00138EE0,
		.Fn_unknown = 0x001470C0
	},
	offsetNtscU
	{
		.battleCameraPtr = 0x00470570,
		.battleCommonCamera = 0x00495D00,
		.battleIsPaused = 0x0049E45C,
		.battleIsPauseMenuEnabled = 0x0058BA10,
		.battleTimescale = 0x0049E464,
		.capsules = 0x004DFB19,
		.displayMode = 0x00470714,
		.displayMode2 = 0x004E05F8,
		.duBackgroundPtr = 0x004708A4,
		.duPosition = 0x005AA6A0,
		.globalFov = 0x003F022C,
		.progression = 0x004B4B40,
		.Fn_battleDrawDuelingInfo = 0x0021B130,
		.Fn_battleSetCameraPosition = 0x001A80E0,
		.Fn_battleSetQuaternion = 0x0012E640,
		.Fn_battleShouldDrawHud = 0x0021C2A0,
		.Fn_battleUpdateCamera = 0x001A8300,
		.Fn_battleUpdatePauseMenu = 0x001ADEE0,
		.Fn_duACTDRAW = 0x0028E790,
		.Fn_duBALL_DRAW = 0x0028EA80,
		.Fn_duDrawDragonUniverse = 0x00290BB0,
		.Fn_duDrawMap = 0x0028F090,
		.Fn_duMAP = 0x0029A250,
		.Fn_duPOS = 0x0029A4F0,
		.Fn_duUpdateCamera = 0x00291E30,
		.Fn_drawAura = 0x002021C0,
		.Fn_drawGreyLines = 0x0020AA20,
		.Fn_drawModel = 0x001C9610,
		.Fn_drawWhiteScreen = 0x0021C560,
		.Fn_padStatus = 0x001A3EF0,
		.Fn_setTextures = 0x00138390,
		.Fn_unknown = 0x00145D70
	},
	offsetNtscUGH
	{
		.battleCameraPtr = 0x00428160,
		.battleCommonCamera = 0x0044B0A0,
		.battleIsPaused = 0x0045383C,
		.battleIsPauseMenuEnabled = 0x00541750,
		.battleTimescale = 0x00453844,
		.capsules = 0x00495599,
		.displayMode = 0,
		.displayMode2 = 0,
		.duBackgroundPtr = 0x00428454,
		.duPosition = 0x0055ED60,
		.globalFov = 0x003A6C2C,
		.progression = 0x0046A5B0,
		.Fn_battleDrawDuelingInfo = 0x0021D3C0,
		.Fn_battleSetCameraPosition = 0x001A9D10,
		.Fn_battleSetQuaternion = 0x0012F080,
		.Fn_battleShouldDrawHud = 0x0021E7B0,
		.Fn_battleUpdateCamera = 0x001A9F20,
		.Fn_battleUpdatePauseMenu = 0x001AFD90,
		.Fn_duACTDRAW = 0x00294BA0,
		.Fn_duBALL_DRAW = 0x00294E80,
		.Fn_duDrawDragonUniverse = 0x00296EF0,
		.Fn_duDrawMap = 0x002954B0,
		.Fn_duMAP = 0x002A0640,
		.Fn_duPOS = 0x002A08E0,
		.Fn_duUpdateCamera = 0x00298270,
		.Fn_drawAura = 0x00204BA0,
		.Fn_drawGreyLines = 0x0020D040,
		.Fn_drawModel = 0x001CA7C0,
		.Fn_drawWhiteScreen = 0x0021EB70,
		.Fn_padStatus = 0x00321270,
		.Fn_setTextures = 0x00138E40,
		.Fn_unknown = 0x00147050
	},
	offsetNtscJ
	{
		.battleCameraPtr = 0x00429964,
		.battleCommonCamera = 0x0044F240,
		.battleIsPaused = 0x004579DC,
		.battleIsPauseMenuEnabled = 0x005458D0,
		.battleTimescale = 0x004579E4,
		.capsules = 0x00499739,
		.displayMode = 0x00429B08,
		.displayMode2 = 0x0049A254,
		.duBackgroundPtr = 0x00429C44,
		.duPosition = 0x00562EE0,
		.globalFov = 0x003A9F2C,
		.progression = 0x0046E750,
		.Fn_battleDrawDuelingInfo = 0x00221800,
		.Fn_battleSetCameraPosition = 0x001AB7E0,
		.Fn_battleSetQuaternion = 0x0012F120,
		.Fn_battleShouldDrawHud = 0x00222BC0,
		.Fn_battleUpdateCamera = 0x001ABA00,
		.Fn_battleUpdatePauseMenu = 0x001B1790,
		.Fn_duACTDRAW = 0x0029A000,
		.Fn_duBALL_DRAW = 0x0029A2F0,
		.Fn_duDrawDragonUniverse = 0x0029C420,
		.Fn_duDrawMap = 0x0029A900,
		.Fn_duMAP = 0x002A5DD0,
		.Fn_duPOS = 0x002A6070,
		.Fn_duUpdateCamera = 0x0029D780,
		.Fn_drawAura = 0x00208810,
		.Fn_drawGreyLines = 0x00211070,
		.Fn_drawModel = 0x001CD3A0,
		.Fn_drawWhiteScreen = 0x00222FA0,
		.Fn_padStatus = 0x001A75F0,
		.Fn_setTextures = 0x00138EE0,
		.Fn_unknown = 0x001470F0
	};

	const Offset& Offset::create(s32 version)
	{
		static constexpr std::array<const Offset*, Version::Count> offsets
		{
			&offsetPal,
			&offsetPalCollector,
			&offsetNtscU,
			&offsetNtscUGH,
			&offsetNtscJ
		};

		return *offsets[version];
	}
}